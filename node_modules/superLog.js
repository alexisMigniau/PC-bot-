/*************************
* PC[bot] > Super logger *
*************************/

//Librairie
const fs = require('fs');

//Constante
const logFile = './data.log';
const onError = (err) => { if(err){console.error(err); throw err;} };
const writingOptions = {
	'encoding': 'utf-8',
	'flag': 'a',
};


exports.log = ( ...param ) => {
	// Préparation de l'entête pour les lignes du fichier
	let date = ' [ ' + (new Date()).toLocaleString() + ' ] ';
	
	// Fusionne le tout en une chaine de caractère
	const texte = date + param
		.map( element => element.toString() )
		.join( '\t\n' ) + '\r\n';
		
	// Ecrit dans le fichier
	fs.writeFile(
		logFile,
		texte,
		writingOptions,
		onError);
};
